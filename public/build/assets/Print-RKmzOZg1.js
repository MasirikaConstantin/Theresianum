import{r as m,j as e,H as o,L as x}from"./app-BiR3H72c.js";import{B as d}from"./button-DfBT4842.js";import{f as i}from"./format-B6qNwQQI.js";import{f as r}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";import"./utils-D-KgF5mV.js";function b({conge:s,entreprise:a}){var l;m.useEffect(()=>{const n=setTimeout(()=>{window.print()},500);return()=>clearTimeout(n)},[]);const c=()=>({annuel:"Congé Annuel",maladie:"Congé de Maladie",maternite:"Congé de Maternité",exceptionnel:"Congé Exceptionnel",sans_solde:"Congé Sans Solde"})[s.type]||s.type,t=(l=s.agent.contrats)==null?void 0:l[0].fonction;return e.jsxs("div",{className:"p-4 max-w-4xl mx-auto bg-white",children:[e.jsx(o,{title:`Bon de sortie - ${s.agent.nom}`}),e.jsxs("div",{className:"no-print flex justify-end gap-4 mb-6",children:[e.jsx(d,{onClick:()=>window.print(),children:"Imprimer"}),e.jsx(d,{variant:"outline",asChild:!0,children:e.jsx(x,{href:route("conges.show",s.ref),children:"Retour"})})]}),e.jsxs("div",{className:"text-center mb-8 border-b pb-4",children:[a.logo&&e.jsx("img",{src:a.logo,alt:"Logo entreprise",className:"h-32 mx-auto mb-2"}),e.jsx("h1",{className:"text-2xl font-bold",children:a.name}),e.jsx("p",{className:"text-sm",children:a.address}),e.jsxs("p",{className:"text-sm",children:["Tél: ",a.phone," | Email: ",a.email]}),e.jsx("h2",{className:"text-xl font-bold mt-4",children:"BON DE SORTIE"})]}),e.jsxs("div",{className:"grid grid-rows-2 gap-8 mb-8 pb-4 border-b",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-2",children:"INFORMATIONS AGENT"}),e.jsx("table",{className:"w-full",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium py-1",children:"Nom complet :"}),e.jsxs("td",{className:"py-1",children:[s.agent.nom," ",s.agent.postnom," ",s.agent.prenom]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium py-1",children:"Matricule :"}),e.jsx("td",{className:"py-1",children:s.agent.matricule})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium py-1",children:"Fonction :"}),e.jsx("td",{className:"py-1",children:t==="admin"?"Administrateur":t==="ressource_humaine"?"Ressource Humaine":t==="communicateur"?"Communicateur":t==="caissière"?"Caissière":t==="manager"?"Gestionnaire":t==="agent"?"Agent":t==="assistant_direction"?"Assistant Direction":t==="charge_vente_client"?"Charge vente client":t==="coiffeuse"?"Coiffeuse":t==="maquilleuse"?"Maquilleuse":t==="cleaner"?"Cleaner":t==="estheticienne"?"Esthéticienne":t==="prothesiste"?"Prothésiste":"Autre"})]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-2",children:"DÉTAILS DU CONGÉ"}),e.jsx("table",{className:"w-full",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium py-1",children:"Type :"}),e.jsx("td",{className:"py-1",children:c()})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium py-1",children:"Période :"}),e.jsxs("td",{className:"py-1",children:[i(new Date(s.date_debut),"PPP",{locale:r})," au "," ",i(new Date(s.date_fin),"PPP",{locale:r})," ","(",s.duree_jours," jours)"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium py-1",children:"Statut :"}),e.jsx("td",{className:"py-1",children:e.jsx("span",{className:s.statut==="approuve"?"text-green-600 font-bold":s.statut==="rejete"?"text-red-600":"text-yellow-600",children:s.statut==="approuve"?"APPROUVÉ":s.statut==="rejete"?"REJETÉ":"EN ATTENTE"})})]})]})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold mb-2",children:"MOTIF"}),e.jsx("div",{className:"border p-4 min-h-20",children:s.motif})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-8",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"border-t-2 border-black w-3/4 mx-auto pt-2",children:e.jsx("p",{children:"Signature du demandeur"})})}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"border-t-2 border-black w-3/4 mx-auto pt-2",children:e.jsxs("p",{children:["Cachet & Signature ",a.name]})})})]}),e.jsx("div",{className:"mt-8 text-right text-sm",children:e.jsxs("p",{children:["Fait à Kinshasa, le ",i(new Date(s.created_at),"PPP",{locale:r})]})}),e.jsx("style",{children:`
                @media print {
                    @page {
                        size: A4;
                        margin: 1.5cm;
                    }
                    body {
                        font-size: 12pt;
                        background: white !important;
                        color: black !important;
                    }
                    .no-print {
                        display: none !important;
                    }
                    table {
                        width: 100%;
                        border-collapse: collapse;
                    }
                    td {
                        padding: 4px 8px;
                        vertical-align: top;
                    }
                }
            `})]})}export{b as default};
