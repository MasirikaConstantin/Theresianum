import{r as j,u as g,j as e,H as N,t as b}from"./app-BiR3H72c.js";import{S as _,H as y}from"./layout-CgspED7W.js";import{I as m}from"./input-error-BcTNWXA9.js";import{B as d}from"./button-DfBT4842.js";import{I as C}from"./input-CBAXjYrY.js";import{L as l}from"./label-C35PAQno.js";import{A as F,a as S,b as D,c as I}from"./app-layout-DXRwYbWn.js";import{P as A}from"./index-iIYnk3p_.js";import{T as L}from"./textarea-CIxwVg30.js";import{S as k}from"./switch-BTEMsqTc.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./lock-OuqDFEa5.js";import"./index-DufLrpEQ.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-Di7OUUGl.js";function ce({auth:r}){var c;const p=j.useRef(null),{data:a,setData:t,post:u,errors:o,progress:n,reset:h}=g({avatar:null,telephone:r.user.telephone||"",adresse:r.user.adresse||"",is_active:r.user.is_active||!1}),v=s=>{s.preventDefault();const i=new FormData;i.append("telephone",a.telephone),i.append("adresse",a.adresse),i.append("is_active",a.is_active.toString()),a.avatar&&i.append("avatar",a.avatar),u(route("other-data.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{h("avatar"),b.success("Informations mises à jour avec succès")}})},x=s=>{s.target.files&&s.target.files[0]&&t("avatar",s.target.files[0])},f=[{title:"Données supplémentaires",href:"/settings/other-data"}];return e.jsxs(F,{auth:r,breadcrumbs:f,children:[e.jsx(N,{title:"Données supplémentaires"}),e.jsx(_,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(y,{title:"Informations de profil",description:"Mise à jour de vos informations personnelles"}),e.jsx("div",{className:"space-y-6",children:e.jsxs("form",{onSubmit:v,encType:"multipart/form-data",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(S,{className:"h-16 w-16",children:[e.jsx(D,{src:a.avatar?URL.createObjectURL(a.avatar):(c=r.user)!=null&&c.avatar_url?r.user.avatar_url:void 0}),e.jsx(I,{children:r.user.name.substring(0,2).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>{var s;return(s=p.current)==null?void 0:s.click()},children:"Changer la photo"}),e.jsx("input",{type:"file",ref:p,onChange:x,className:"hidden",accept:"image/*"}),e.jsx(m,{message:o.avatar,className:"mt-2"}),n&&e.jsxs(e.Fragment,{children:[e.jsx(A,{value:n.percentage,max:100,className:"mt-2"}),n.percentage,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"telephone",children:"Téléphone"}),e.jsx(C,{id:"telephone",value:a.telephone,onChange:s=>t("telephone",s.target.value)}),e.jsx(m,{message:o.telephone,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"adresse",children:"Adresse"}),e.jsx(L,{id:"adresse",value:a.adresse,onChange:s=>t("adresse",s.target.value)}),e.jsx(m,{message:o.adresse,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{htmlFor:"is_active",children:"Actif"}),e.jsx(k,{id:"is_active",checked:a.is_active,onCheckedChange:s=>t("is_active",s)})]})]}),e.jsx(d,{type:"submit",variant:"outline",children:"Enregistrer"})]})})]})})]})}export{ce as default};
