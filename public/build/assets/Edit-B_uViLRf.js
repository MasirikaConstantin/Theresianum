import{u as j,j as e,H as f,L as x,a as v,t as N}from"./app-BiR3H72c.js";import{A as _}from"./app-layout-DXRwYbWn.js";import{B as d}from"./button-DfBT4842.js";import{I as n}from"./input-CBAXjYrY.js";import{L as l}from"./label-C35PAQno.js";import{T as b}from"./textarea-CIxwVg30.js";import{S as C,a as S,b as E,c as F,d as L}from"./select-B5KxOem9.js";import{C as y}from"./chevron-left-CImlN05b.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";import"./index-BdQq_4o_.js";import"./index-Di7OUUGl.js";import"./check-DVZ7LPyx.js";const D=o=>[{title:"Dashboard",href:"/dashboard"},{title:"Clients",href:"/clients"},{title:`Modifier ${o}`,href:"#"}];function oe({auth:o,client:r}){var c,p,h;const{data:t,setData:i,put:u,processing:m,errors:a}=j({name:r.name,telephone:r.telephone,email:r.email,notes:r.notes,succursale_id:r.succursale_id,date_naissance:r.date_naissance}),g=s=>{s.preventDefault(),u(route("clients.update",r.ref),{onError:()=>{N.error("Veuillez corriger les erreurs dans le formulaire")}})};return e.jsxs(_,{auth:o,breadcrumbs:D(r.name),children:[e.jsx(f,{title:`Modifier ${r.name}`}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{href:route("clients.index"),children:e.jsx(d,{variant:"outline",size:"icon",children:e.jsx(y,{className:"h-4 w-4"})})}),e.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Modifier ",r.name]})]}),e.jsxs("form",{onSubmit:g,className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",children:"Nom complet"}),e.jsx(n,{id:"name",value:t.name,onChange:s=>i("name",s.target.value),placeholder:"Nom du client",required:!0}),a.name&&e.jsx("p",{className:"text-sm text-red-500",children:a.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"telephone",children:"Téléphone (optionnel)"}),e.jsx(n,{id:"telephone",value:t.telephone||"",onChange:s=>i("telephone",s.target.value),placeholder:"Numéro de téléphone"}),a.telephone&&e.jsx("p",{className:"text-sm text-red-500",children:a.telephone})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"email",children:"Email (optionnel)"}),e.jsx(n,{id:"email",type:"email",value:t.email||"",onChange:s=>i("email",s.target.value),placeholder:"Email du client"}),a.email&&e.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"succursale_id",children:"Branche (optionnel)"}),e.jsxs(C,{value:((c=t.succursale_id)==null?void 0:c.toString())||"",onValueChange:s=>i("succursale_id",s?parseInt(s):null),children:[e.jsx(S,{children:e.jsx(E,{placeholder:"Sélectionnez une branche"})}),e.jsx(F,{children:(h=(p=v().props)==null?void 0:p.succursales)==null?void 0:h.map(s=>e.jsx(L,{value:s.id.toString(),children:s.nom},s.id))})]}),a.succursale_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.succursale_id})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"date_naissance",children:"Date de naissance (optionnel)"}),e.jsx(n,{id:"date_naissance",type:"date",value:t.date_naissance,onChange:s=>i("date_naissance",s.target.value),placeholder:"Date de naissance"}),a.date_naissance&&e.jsx("p",{className:"text-sm text-red-500",children:a.date_naissance})]})}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"notes",children:"Notes (optionnel)"}),e.jsx(b,{id:"notes",value:t.notes||"",onChange:s=>i("notes",s.target.value),placeholder:"Notes sur le client",rows:4}),a.notes&&e.jsx("p",{className:"text-sm text-red-500",children:a.notes})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(x,{href:route("clients.index"),children:e.jsx(d,{variant:"outline",children:"Annuler"})}),e.jsx(d,{type:"submit",disabled:m,children:m?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{oe as default};
