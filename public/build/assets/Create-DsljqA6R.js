import{u as _,j as e,H as b,L as h,a as w,t as S}from"./app-BiR3H72c.js";import{A as F}from"./app-layout-DXRwYbWn.js";import{B as o}from"./button-DfBT4842.js";import{I as l}from"./input-CBAXjYrY.js";import{L as i}from"./label-C35PAQno.js";import{T as y}from"./textarea-CIxwVg30.js";import{S as u,a as x,b as g,c as j,d}from"./select-B5KxOem9.js";import{S as A}from"./switch-BTEMsqTc.js";import{C as D}from"./chevron-left-CImlN05b.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";import"./index-BdQq_4o_.js";import"./index-Di7OUUGl.js";import"./check-DVZ7LPyx.js";const E=[{title:"Dashboard",href:"/dashboard"},{title:"Utilisateurs",href:"/utilisateurs"},{title:"Créer un utilisateur",href:"/utilisateurs/create"}];function ce({auth:v}){var c,m,p;const{data:t,setData:a,post:f,processing:n,errors:r}=_({name:"",email:"",password:"",password_confirmation:"",avatar:null,telephone:"",adresse:"",date_embauche:new Date().toISOString().split("T")[0],role:"aucun",is_active:!1,succursale_id:null}),N=s=>{s.preventDefault(),f(route("utilisateurs.store"),{onError:()=>{S.error("Veuillez corriger les erreurs dans le formulaire")}})},C=s=>{s.target.files&&s.target.files[0]&&a("avatar",s.target.files[0])};return e.jsxs(F,{auth:v,breadcrumbs:E,children:[e.jsx(b,{title:"Créer un utilisateur"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{href:route("utilisateurs.index"),children:e.jsx(o,{variant:"outline",size:"icon",children:e.jsx(D,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Créer un nouvel utilisateur"})]}),e.jsxs("form",{onSubmit:N,className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"name",children:"Nom complet"}),e.jsx(l,{id:"name",value:t.name,onChange:s=>a("name",s.target.value),placeholder:"Nom de l'utilisateur",required:!0}),r.name&&e.jsx("p",{className:"text-sm text-red-500",children:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",value:t.email,onChange:s=>a("email",s.target.value),placeholder:"Email de l'utilisateur",required:!0}),r.email&&e.jsx("p",{className:"text-sm text-red-500",children:r.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"password",children:"Mot de passe"}),e.jsx(l,{id:"password",type:"password",value:t.password,onChange:s=>a("password",s.target.value),placeholder:"Mot de passe",required:!0}),r.password&&e.jsx("p",{className:"text-sm text-red-500",children:r.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"password_confirmation",children:"Confirmation mot de passe"}),e.jsx(l,{id:"password_confirmation",type:"password",value:t.password_confirmation,onChange:s=>a("password_confirmation",s.target.value),placeholder:"Confirmez le mot de passe",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"avatar",children:"Avatar (optionnel)"}),e.jsx(l,{id:"avatar",type:"file",onChange:C,accept:"image/*"}),r.avatar&&e.jsx("p",{className:"text-sm text-red-500",children:r.avatar})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"telephone",children:"Téléphone (optionnel)"}),e.jsx(l,{id:"telephone",value:t.telephone,onChange:s=>a("telephone",s.target.value),placeholder:"Numéro de téléphone"}),r.telephone&&e.jsx("p",{className:"text-sm text-red-500",children:r.telephone})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"adresse",children:"Adresse (optionnel)"}),e.jsx(y,{id:"adresse",value:t.adresse,onChange:s=>a("adresse",s.target.value),placeholder:"Adresse complète"}),r.adresse&&e.jsx("p",{className:"text-sm text-red-500",children:r.adresse})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"date_embauche",children:"Date d'embauche (optionnel)"}),e.jsx(l,{id:"date_embauche",type:"date",value:t.date_embauche,onChange:s=>a("date_embauche",s.target.value)}),r.date_embauche&&e.jsx("p",{className:"text-sm text-red-500",children:r.date_embauche})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"role",children:"Rôle"}),e.jsxs(u,{value:t.role,onValueChange:s=>a("role",s),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Sélectionnez un rôle"})}),e.jsxs(j,{children:[e.jsx(d,{value:"admin",children:"Admin"}),e.jsx(d,{value:"gerant",children:"D.R.H"}),e.jsx(d,{value:"coiffeur",children:"Coiffeur"}),e.jsx(d,{value:"caissier",children:"Caissier"}),e.jsx(d,{value:"aucun",children:"Aucun"})]})]}),r.role&&e.jsx("p",{className:"text-sm text-red-500",children:r.role})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{id:"is_active",checked:t.is_active,onCheckedChange:s=>a("is_active",s)}),e.jsx(i,{htmlFor:"is_active",children:"Compte actif"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"succursale_id",children:"Branche (optionnel)"}),e.jsxs(u,{value:((c=t.succursale_id)==null?void 0:c.toString())||"",onValueChange:s=>a("succursale_id",s?parseInt(s):null),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Sélectionnez une branche"})}),e.jsx(j,{children:(p=(m=w().props)==null?void 0:m.succursales)==null?void 0:p.map(s=>e.jsx(d,{value:s.id.toString(),children:s.nom},s.id))})]}),r.succursale_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.succursale_id})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{href:route("utilisateurs.index"),children:e.jsx(o,{variant:"outline",children:"Annuler"})}),e.jsx(o,{type:"submit",disabled:n,children:n?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{ce as default};
