import{u as j,j as e,H as f,L as v,t as a}from"./app-BiR3H72c.js";import{A as g}from"./app-layout-DXRwYbWn.js";import{B as n}from"./button-DfBT4842.js";import{L as u}from"./label-C35PAQno.js";import{I as l}from"./input-CBAXjYrY.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";function T({auth:o,stock:r}){const{data:d,setData:s,post:c,put:m,processing:p,errors:i}=j({produit_id:(r==null?void 0:r.produit_id)||"",succursale_id:(r==null?void 0:r.succursale_id)||"",quantite:(r==null?void 0:r.quantite)||0,seuil_alerte:(r==null?void 0:r.seuil_alerte)||5}),x=[{title:"Dashboard",href:"/dashboard"},{title:"Stocks par Branche",href:"/stock-succursales"},{title:r?"Modifier Stock":"Créer Stock",href:"#"}],h=t=>{t.preventDefault(),r?m(route("stock-succursales.update",r.ref),{onSuccess:()=>a.success("Stock mis à jour avec succès"),onError:()=>a.error("Une erreur est survenue")}):c(route("stock-succursales.store"),{onSuccess:()=>a.success("Stock créé avec succès"),onError:()=>a.error("Une erreur est survenue")})};return e.jsxs(g,{auth:o,breadcrumbs:x,children:[e.jsx(f,{title:r?"Modifier Stock":"Créer Stock"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:r?"Modifier le Stock":"Créer un Nouveau Stock"}),e.jsx(v,{href:route("stock-succursales.index"),children:e.jsx(n,{variant:"outline",children:"Retour à la liste"})})]}),e.jsxs("form",{onSubmit:h,className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"produit_id",children:"Produit"}),e.jsx(l,{id:"produit_id",type:"text",disabled:!0,value:r.produit.name,onChange:t=>s("produit_id",t.target.value)}),i.produit_id&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.produit_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"succursale_id",children:"Branche"}),e.jsx(l,{id:"succursale_id",type:"text",disabled:!0,value:r.succursale.nom,onChange:t=>s("succursale_id",t.target.value)}),i.succursale_id&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.succursale_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"quantite",children:"Quantité en stock"}),e.jsx(l,{id:"quantite",type:"number",min:"0",value:d.quantite,onChange:t=>s("quantite",parseInt(t.target.value))}),i.quantite&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.quantite})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"seuil_alerte",children:"Seuil d'alerte"}),e.jsx(l,{id:"seuil_alerte",type:"number",min:"1",value:d.seuil_alerte,onChange:t=>s("seuil_alerte",parseInt(t.target.value))}),i.seuil_alerte&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.seuil_alerte})]})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(n,{type:"submit",disabled:p,children:r?"Mettre à jour":"Créer"})})]})]})]})}export{T as default};
