import{r as m,j as e,H as x}from"./app-BiR3H72c.js";import{f as c}from"./format-B6qNwQQI.js";import{f as i}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";function g({data:t,entreprise:r,qrWeb:h,qrFacebook:b,qrInstagram:j}){const n=s=>new Intl.NumberFormat("fr-FR").format(s),l=s=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(s).replace("$US","$"),o=s=>{const a=Math.floor(s/60),d=s%60;return a>0?`${a}h ${d}min`:`${d}min`};return m.useEffect(()=>{const s=setTimeout(()=>{window.print()},500);return()=>clearTimeout(s)},[]),e.jsxs("div",{className:"p-4 max-w-4xl mx-auto bg-white",children:[e.jsx(x,{title:`Statistiques Service - ${t.service.name}`}),e.jsxs("div",{className:"text-center mb-4 border-b pb-4",children:[r.logo_url&&e.jsx("img",{src:r.logo_url,alt:"Logo entreprise",className:"h-16 mx-auto mb-2"}),e.jsx("h1",{className:"text-xl font-bold",children:r.nom}),e.jsxs("p",{className:"text-xs font-bold",children:[r.rccm,", ID NAT: ",r.id_national]}),e.jsxs("p",{className:"text-xs",children:[r.adresse," ",e.jsx("br",{})," Tél: ",r.telephone," | E-mail: ",r.email]}),e.jsx("h2",{className:"text-xl font-bold mt-2",children:"STATISTIQUES DU SERVICE"}),e.jsxs("p",{className:"text-sm",children:["Période du ",c(new Date(t.date_debut),"PPP",{locale:i})," au ",c(new Date(t.date_fin),"PPP",{locale:i})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-bold text-lg border-b pb-1",children:"INFORMATIONS SERVICE"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mt-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"w-32 font-medium",children:"Nom:"}),e.jsx("span",{children:t.service.name})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"w-32 font-medium",children:"Durée:"}),e.jsx("span",{children:o(t.service.duree_minutes)})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"w-32 font-medium",children:"Prix:"}),e.jsx("span",{children:l(t.service.prix)})]})]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border p-3 text-center rounded bg-gray-50",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Total Prestations"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:n(t.stats.total_vendu)}),e.jsx("p",{className:"text-xs",children:"Prestations"})]}),e.jsxs("div",{className:"border p-3 text-center rounded bg-gray-50",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Chiffre d'Affaires"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:l(t.stats.chiffre_affaires)})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-bold text-lg border-b pb-1",children:"PRESTATIONS PAR BRANCHE"}),e.jsxs("table",{className:"w-full text-sm mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"text-left p-2 border",children:"Branche"}),e.jsx("th",{className:"text-right p-2 border",children:"Quantité"}),e.jsx("th",{className:"text-right p-2 border",children:"Chiffre d'Affaires"})]})}),e.jsx("tbody",{children:t.ventes_par_succursale.map((s,a)=>e.jsxs("tr",{className:a%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"p-2 border",children:s.nom}),e.jsx("td",{className:"p-2 border text-right",children:n(s.total_quantite)}),e.jsx("td",{className:"p-2 border text-right",children:l(s.total_ca)})]},s.id))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-bold text-lg border-b pb-1",children:"PRESTATIONS PAR PÉRIODE"}),e.jsxs("table",{className:"w-full text-sm mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"text-left p-2 border",children:"Date"}),e.jsx("th",{className:"text-right p-2 border",children:"Quantité"}),e.jsx("th",{className:"text-right p-2 border",children:"Chiffre d'Affaires"})]})}),e.jsx("tbody",{children:t.ventes_par_periode.map((s,a)=>e.jsxs("tr",{className:a%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"p-2 border",children:c(new Date(s.date),"PPPP",{locale:i})}),e.jsx("td",{className:"p-2 border text-right",children:n(s.total_quantite)}),e.jsx("td",{className:"p-2 border text-right",children:l(s.total_ca)})]},s.date))})]})]}),e.jsx("div",{className:"mt-8 border-t pt-4",children:e.jsx("div",{className:"flex justify-end items-center",children:e.jsx("div",{className:"text-xs",children:e.jsxs("p",{children:["Document généré le ",c(new Date,"PPPPp",{locale:i})]})})})}),e.jsx("style",{children:`
                @media print {
                    @page {
                        size: A4;
                        margin: 1cm;
                    }
                    body {
                        font-size: 10pt;
                        background: white !important;
                        color: black !important;
                    }
                    .no-print {
                        display: none !important;
                    }
                    .border, th, td {
                        border-color: #ccc !important;
                    }
                }
            `})]})}export{g as default};
