import{r as d,j as e,H as a,L as o}from"./app-BiR3H72c.js";import{B as c}from"./button-DfBT4842.js";import{f as t}from"./formatMoney-CtkS2hMP.js";import{f as i}from"./format-B6qNwQQI.js";import{f as l}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";import"./utils-D-KgF5mV.js";const x=(s=!1)=>{const r=()=>{const n=document.title;document.title=`Bulletin_Paie_${Date.now()}`,window.print(),document.title=n};return d.useEffect(()=>{if(s){const n=setTimeout(r,500);return()=>clearTimeout(n)}},[s]),{handlePrint:r}};function b({paie:s,entreprise:r}){const{handlePrint:n}=x(!0);return e.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[e.jsx(a,{title:`Bulletin de paie ${s.ref}`}),e.jsxs("div",{className:"no-print mb-4 flex justify-end",children:[e.jsx(c,{onClick:n,className:"mr-2",children:"Imprimer"}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsx(o,{href:route("paies.show",s.ref),children:"Retour"})})]}),e.jsxs("div",{className:"text-center mb-8 border-b pb-4",children:[r.logo&&e.jsx("img",{src:r.logo,alt:"Logo entreprise",className:"h-24 mx-auto mb-2"}),e.jsx("h1",{className:"text-2xl font-bold",children:r.name}),e.jsx("p",{className:"text-sm",children:r.address}),e.jsxs("p",{className:"text-sm",children:["Tél: ",r.phone," | Email: ",r.email]}),e.jsx("h2",{className:"text-xl font-bold mt-4",children:"BULLETIN DE PAIE"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nom:"})," ",s.nom_complet]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Matricule:"})," ",s.matricule]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fonction:"})," ",s.fonction=="admin"?"Administrateur":s.fonction=="ressource_humaine"?"Ressource Humaine":s.fonction=="communicateur"?"Communicateur":s.fonction=="caissière"?"Caissière":s.fonction=="manager"?"Gestionnaire":s.fonction=="agent"?"Agent":s.fonction=="assistant_direction"?"Assistant Direction":s.fonction=="charge_vente_client"?"Charge vente client":s.fonction=="coiffeuse"?"Coiffeuse":s.fonction=="maquilleuse"?"Maquilleuse":s.fonction=="cleaner"?"Cleaner":s.fonction=="estheticienne"?"Esthéticienne":s.fonction=="prothesiste"?"Prothésiste":"Autre"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Période:"})," ",i(new Date(s.date_debut_periode),"PPP",{locale:l})," au ",i(new Date(s.date_fin_periode),"PPP",{locale:l})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date émission:"})," ",i(new Date(s.date_emission),"PPP",{locale:l})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold border-b pb-2 mb-4",children:"DÉTAIL DES GAINS"}),e.jsx("table",{className:"w-full mb-6",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Salaire de base"}),e.jsx("td",{className:"text-right",children:t(s.salaire_base,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Heures supplémentaires"}),e.jsx("td",{className:"text-right",children:t(s.heures_supplementaires,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Congés payés"}),e.jsx("td",{className:"text-right",children:t(s.conges_payes,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Pécule de congé"}),e.jsx("td",{className:"text-right",children:t(s.pecule_conge,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Gratification"}),e.jsx("td",{className:"text-right",children:t(s.gratification,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Prime de fidélité"}),e.jsx("td",{className:"text-right",children:t(s.prime_fidelite,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Prime diverse"}),e.jsx("td",{className:"text-right",children:t(s.prime_diverse,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Allocation familiale"}),e.jsx("td",{className:"text-right",children:t(s.allocation_familiale,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Allocation épouse"}),e.jsx("td",{className:"text-right",children:t(s.allocation_epouse,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"AFM Gratification"}),e.jsx("td",{className:"text-right",children:t(s.afm_gratification,"USD")})]})]})}),e.jsx("h3",{className:"font-bold border-b pb-2 mb-4",children:"DÉTAIL DES RETENUES"}),e.jsx("table",{className:"w-full mb-6",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cotisation CNSS"}),e.jsx("td",{className:"text-right",children:t(s.cotisation_cnss,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Impôt sur le revenu"}),e.jsx("td",{className:"text-right",children:t(s.impot_revenu,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Prêts retenus"}),e.jsx("td",{className:"text-right",children:t(s.prets_retenus,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Avance sur salaire"}),e.jsx("td",{className:"text-right",children:t(s.avance_salaire,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Paie négative"}),e.jsx("td",{className:"text-right",children:t(s.paie_negative,"USD")})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Autres retenues"}),e.jsx("td",{className:"text-right",children:t(s.autres_regularisations,"USD")})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t pt-4",children:[e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Rémunération brute:"})}),e.jsx("p",{children:e.jsx("strong",{children:"Total retenues:"})}),e.jsx("p",{className:"font-bold",children:e.jsx("strong",{children:"Net à payer:"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{children:t(s.remuneration_brute,"USD")}),e.jsx("p",{children:t(s.total_retenues,"USD")}),e.jsx("p",{className:"font-bold",children:t(s.net_a_payer,"USD")})]})]}),e.jsxs("div",{className:"mt-16 text-center text-sm",children:[e.jsxs("p",{children:["Fait à Kinshasa, le ",i(new Date,"dd/MM/yyyy",{locale:l})]}),e.jsxs("div",{className:"mt-8 flex justify-around",children:[e.jsx("div",{className:"border-t w-1/3 pt-2",children:"Signature employé"}),e.jsx("div",{className:"border-t w-1/3 pt-2",children:"Signature employeur"})]})]}),e.jsx("style",{children:`
                
               
                @media print {
                    body {
                        font-size: 12pt;
                        background: white;
                        color: black;
                    }
                    @page {
                        size: A4;
                        margin: 1.5cm;
                    }
                    .no-print {
                        display: none !important;
                    }
                    table {
                        width: 100%;
                        border-collapse: collapse;
                    }
                    td, th {
                        padding: 4px 8px;
                        border: 1px solid #ddd;
                    }
                }
            `})]})}export{b as default};
