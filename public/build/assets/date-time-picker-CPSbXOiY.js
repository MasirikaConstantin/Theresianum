import{r as w,j as s}from"./app-BiR3H72c.js";import{C as N}from"./react-icons.esm-kK37FhDG.js";import{c as v}from"./utils-D-KgF5mV.js";import{B as o}from"./button-DfBT4842.js";import{P as S,a as y,b as C}from"./popover-B0R-MFpt.js";import{S as l,a as c}from"./scroll-area-iQk4GMsN.js";import{D}from"./DayPicker-BNzRSgUN.js";import{f as m}from"./fr-CLbTb0XB.js";import{f}from"./format-B6qNwQQI.js";function A({date:t,setDate:n}){const[d,u]=w.useState(!1),h=e=>{if(e){const r=new Date(e);r.setHours(t.getHours()),r.setMinutes(t.getMinutes()),n(r)}},i=(e,r)=>{const a=new Date(t);e==="hour"?a.setHours(parseInt(r)):e==="minute"&&a.setMinutes(parseInt(r)),n(a)},p=e=>f(e,"HH:mm"),x=e=>f(e,"PP",{locale:m}),g=Array.from({length:24},(e,r)=>r),j=Array.from({length:12},(e,r)=>r*5);return s.jsxs(S,{open:d,onOpenChange:u,children:[s.jsx(y,{asChild:!0,children:s.jsxs(o,{variant:"outline",className:v("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[s.jsx(N,{className:"mr-2 h-4 w-4"}),t?`${x(t)} à ${p(t)} (heure locale)`:s.jsx("span",{children:"Sélectionner une date et heure"})]})}),s.jsx(C,{className:"w-auto p-0",children:s.jsxs("div",{className:"sm:flex",children:[s.jsx(D,{mode:"single",selected:t,onSelect:h,defaultMonth:t,locale:m,styles:{root:{margin:0},month:{margin:0},caption:{padding:0}},classNames:{day:"relative w-full h-full p-0 text-center",day_selected:"bg-primary text-primary-foreground",day_today:"bg-accent text-accent-foreground"}}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:h-[300px] divide-y sm:divide-y-0 sm:divide-x",children:[s.jsxs(l,{className:"w-64 sm:w-auto",children:[s.jsx("div",{className:"flex sm:flex-col p-2",children:g.map(e=>s.jsx(o,{size:"icon",variant:t.getHours()===e?"default":"ghost",className:"sm:w-full shrink-0 aspect-square",onClick:()=>i("hour",e.toString()),children:e.toString().padStart(2,"0")},e))}),s.jsx(c,{orientation:"horizontal",className:"sm:hidden"})]}),s.jsxs(l,{className:"w-64 sm:w-auto",children:[s.jsx("div",{className:"flex sm:flex-col p-2",children:j.map(e=>s.jsx(o,{size:"icon",variant:t.getMinutes()===e?"default":"ghost",className:"sm:w-full shrink-0 aspect-square",onClick:()=>i("minute",e.toString()),children:e.toString().padStart(2,"0")},e))}),s.jsx(c,{orientation:"horizontal",className:"sm:hidden"})]})]})]})})]})}export{A as D};
