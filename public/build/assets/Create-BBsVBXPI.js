import{u as f,j as e,H as N,L as S,t as o}from"./app-BiR3H72c.js";import{A as b}from"./app-layout-DXRwYbWn.js";import{B as n}from"./button-DfBT4842.js";import{L as i}from"./label-C35PAQno.js";import{T as C}from"./textarea-CIxwVg30.js";import{S as d,a as c,b as m,c as p,d as u}from"./select-B5KxOem9.js";import{C as A}from"./circle-alert-CxFuhzFA.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";import"./index-BdQq_4o_.js";import"./index-Di7OUUGl.js";import"./check-DVZ7LPyx.js";const _=[{title:"Dashboard",href:"/dashboard"},{title:"Alertes",href:"/alerts"},{title:"Nouvelle alerte",href:"#"}];function te({produits:x,rendezvous:h,auth:j}){const{data:t,setData:s,post:g,processing:l,errors:a}=f({notes:"",produit_id:"",rendezvou_id:""}),v=r=>{r.preventDefault(),g(route("alerts.store"),{onSuccess:()=>o.success("Alerte créée avec succès"),onError:()=>o.error("Une erreur est survenue")})};return e.jsxs(b,{auth:j,breadcrumbs:_,children:[e.jsx(N,{title:"Nouvelle alerte"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Nouvelle alerte"}),e.jsx(S,{href:route("alerts.index"),children:e.jsx(n,{variant:"outline",children:"Retour à la liste"})})]}),e.jsxs("form",{onSubmit:v,className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"notes",children:"Notes (optionnel)"}),e.jsx(C,{id:"notes",value:t.notes,onChange:r=>s("notes",r.target.value),placeholder:"Décrivez l'alerte..."}),a.notes&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:a.notes})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Associer à un produit"}),e.jsxs(d,{value:t.produit_id||void 0,onValueChange:r=>s("produit_id",r||null),children:[e.jsx(c,{children:e.jsx(m,{placeholder:"Sélectionner un produit"})}),e.jsx(p,{children:x.map(r=>e.jsx(u,{value:r.id.toString(),children:r.name},r.id))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Associer à un rendez-vous"}),e.jsxs(d,{value:t.rendezvou_id||void 0,onValueChange:r=>s("rendezvou_id",r||null),children:[e.jsx(c,{children:e.jsx(m,{placeholder:"Sélectionner un rendez-vous"})}),e.jsx(p,{children:h.map(r=>e.jsxs(u,{value:r.id.toString(),children:[r.title," - ",new Date(r.date).toLocaleDateString()]},r.id))})]})]})]})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsxs(n,{type:"submit",disabled:l,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),l?"Création...":"Créer l'alerte"]})})]})]})]})}export{te as default};
