import{u as y,j as e,L as b}from"./app-BiR3H72c.js";import{B as n}from"./button-DfBT4842.js";import{L as d}from"./label-C35PAQno.js";import{S as u,a as o,b as x,c as j,d as a}from"./select-B5KxOem9.js";import{S as C}from"./switch-BTEMsqTc.js";import{T as h}from"./textarea-CIxwVg30.js";import{P as S,a as _,b as F}from"./popover-B0R-MFpt.js";import{C as P}from"./react-icons.esm-kK37FhDG.js";import{f as m}from"./format-B6qNwQQI.js";import{f as w}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";import"./utils-D-KgF5mV.js";import"./index-DufLrpEQ.js";import"./index-CaoPq-lK.js";import"./index-BdQq_4o_.js";import"./index-C4BIJOdj.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-Di7OUUGl.js";import"./index-D-SBhKFM.js";import"./check-DVZ7LPyx.js";function g({pointage:s,agents:f}){const{data:i,setData:c,errors:r,processing:l,put:v,post:p}=y({agent_id:(s==null?void 0:s.agent_id)||"",date:s!=null&&s.date?m(new Date(s.date),"yyyy-MM-dd"):m(new Date,"yyyy-MM-dd"),statut:(s==null?void 0:s.statut)||"present",heure_arrivee:(s==null?void 0:s.heure_arrivee)||"",heure_depart:(s==null?void 0:s.heure_depart)||"",justifie:(s==null?void 0:s.justifie)||!1,justification:(s==null?void 0:s.justification)||"",notes:(s==null?void 0:s.notes)||""}),N=t=>{t.preventDefault(),s?v(route("pointages.update",s.id)):p(route("pointages.store"))};return e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:" space-y-2",children:[e.jsx(d,{htmlFor:"agent_id",children:"Agent"}),e.jsxs(u,{value:String(i.agent_id),onValueChange:t=>c("agent_id",Number(t)),disabled:!1,children:[e.jsx(o,{children:e.jsx(x,{placeholder:"Sélectionner un agent"})}),e.jsx(j,{children:f.map(t=>e.jsxs(a,{value:String(t.id),children:[t.nom," ",t.postnom," ",t.prenom]},t.id))})]}),r.agent_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.agent_id})]}),e.jsxs("div",{className:" space-y-2",children:[e.jsx(d,{children:"Date"}),e.jsxs(S,{children:[e.jsx(_,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),i.date?m(new Date(i.date),"PPP",{locale:w}):"Choisir une date"]})}),e.jsx(F,{className:"w-auto p-0"})]}),r.date&&e.jsx("p",{className:"text-sm text-red-500",children:r.date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"statut",children:"Statut"}),e.jsxs(u,{value:i.statut,onValueChange:t=>c("statut",t),disabled:l,children:[e.jsx(o,{children:e.jsx(x,{placeholder:"Sélectionner un statut"})}),e.jsxs(j,{children:[e.jsx(a,{value:"present",children:"Présent"}),e.jsx(a,{value:"absent",children:"Absent"}),e.jsx(a,{value:"congé",children:"Congé"}),e.jsx(a,{value:"malade",children:"Malade"}),e.jsx(a,{value:"formation",children:"Formation"}),e.jsx(a,{value:"mission",children:"Mission"})]})]}),r.statut&&e.jsx("p",{className:"text-sm text-red-500",children:r.statut})]}),i.statut==="present"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"justifie",checked:i.justifie,onCheckedChange:t=>c("justifie",t),disabled:l}),e.jsx(d,{htmlFor:"justifie",children:"Justifié"})]}),r.justifie&&e.jsx("p",{className:"text-sm text-red-500",children:r.justifie})]}),i.justifie&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"justification",children:"Justification"}),e.jsx(h,{id:"justification",value:i.justification,onChange:t=>c("justification",t.target.value),disabled:l}),r.justification&&e.jsx("p",{className:"text-sm text-red-500",children:r.justification})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"notes",children:"Notes"}),e.jsx(h,{id:"notes",value:i.notes,onChange:t=>c("notes",t.target.value),disabled:l}),r.notes&&e.jsx("p",{className:"text-sm text-red-500",children:r.notes})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(n,{asChild:!0,variant:"outline",children:e.jsx(b,{href:route("pointages.index"),children:"Annuler"})}),e.jsx(n,{type:"submit",disabled:l,children:l?"Enregistrement...":"Enregistrer"})]})]})}export{g as default};
