import{u as g,j as e,H as S,L as v,t as n}from"./app-BiR3H72c.js";import{A as _}from"./app-layout-DXRwYbWn.js";import{B as d}from"./button-DfBT4842.js";import{L as o}from"./label-C35PAQno.js";import{I as u}from"./input-CBAXjYrY.js";import{S as q,a as b,b as N,c as C,d as y}from"./select-B5KxOem9.js";import{S as F}from"./switch-BTEMsqTc.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";import"./index-BdQq_4o_.js";import"./index-Di7OUUGl.js";import"./check-DVZ7LPyx.js";function se({auth:m,stock:t,produits:c}){var l;const{data:a,setData:s,post:p,put:x,processing:h,errors:i}=g({produit_id:((l=t==null?void 0:t.produit_id)==null?void 0:l.toString())||"",quantite:(t==null?void 0:t.quantite)||0,quantite_alerte:(t==null?void 0:t.quantite_alerte)||5,actif:(t==null?void 0:t.actif)??!0}),f=[{title:"Dashboard",href:"/dashboard"},{title:"Stocks",href:"/stocks"},{title:t?"Modifier Stock":"Créer Stock",href:"#"}],j=r=>{r.preventDefault(),t?x(route("stocks.update",t.ref),{onSuccess:()=>n.success("Stock mis à jour avec succès"),onError:()=>n.error("Une erreur est survenue")}):p(route("stocks.store"),{onSuccess:()=>n.success("Stock créé avec succès"),onError:()=>n.error("Une erreur est survenue")})};return e.jsxs(_,{auth:m,breadcrumbs:f,children:[e.jsx(S,{title:t?"Modifier Stock":"Créer Stock"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t?"Modifier le Stock":"Créer un Nouveau Stock"}),e.jsx(v,{href:route("stocks.index"),children:e.jsx(d,{variant:"outline",children:"Retour à la liste"})})]}),e.jsxs("form",{onSubmit:j,className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"produit_id",children:"Produit"}),e.jsxs(q,{value:a.produit_id,onValueChange:r=>s("produit_id",r),children:[e.jsx(b,{children:e.jsx(N,{placeholder:"Sélectionner un produit"})}),e.jsx(C,{children:c.map(r=>e.jsx(y,{value:r.id.toString(),children:r.name},r.id))})]}),i.produit_id&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.produit_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"quantite",children:"Quantité en stock"}),e.jsx(u,{id:"quantite",type:"number",min:"0",value:a.quantite,onChange:r=>s("quantite",parseInt(r.target.value))}),i.quantite&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.quantite})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"quantite_alerte",children:"Seuil d'alerte"}),e.jsx(u,{id:"quantite_alerte",type:"number",min:"1",value:a.quantite_alerte,onChange:r=>s("quantite_alerte",parseInt(r.target.value))}),i.quantite_alerte&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.quantite_alerte})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{id:"actif",checked:a.actif,onCheckedChange:r=>s("actif",r)}),e.jsx(o,{htmlFor:"actif",children:"Stock actif"})]})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(d,{type:"submit",disabled:h,children:t?"Mettre à jour":"Créer"})})]})]})]})}export{se as default};
