import{u as S,j as e,H as N,L as b,t as d}from"./app-BiR3H72c.js";import{A as _}from"./app-layout-DXRwYbWn.js";import{B as c}from"./button-DfBT4842.js";import{L as o}from"./label-C35PAQno.js";import{T as A}from"./textarea-CIxwVg30.js";import{S as m,a as u,b as p,c as x,d as i}from"./select-B5KxOem9.js";import{C as z}from"./circle-alert-CxFuhzFA.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";import"./index-BdQq_4o_.js";import"./index-Di7OUUGl.js";import"./check-DVZ7LPyx.js";const C=[{title:"Dashboard",href:"/dashboard"},{title:"Alertes",href:"/alerts"},{title:"Modifier alerte",href:"#"}];function te({alert:s,produits:h,rendezvous:j,auth:f}){const{data:t,setData:l,put:g,processing:a,errors:n}=S({notes:s.notes,produit_id:s.produit_id,rendezvou_id:s.rendezvou_id}),v=r=>{r.preventDefault(),g(route("alerts.update",s.ref),{onSuccess:()=>d.success("Alerte mise à jour avec succès"),onError:()=>d.error("Une erreur est survenue")})};return e.jsxs(_,{auth:f,breadcrumbs:C,children:[e.jsx(N,{title:`Modifier alerte ${s.ref}`}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Modifier l'alerte ",s.ref]}),e.jsx(b,{href:route("alerts.index"),children:e.jsx(c,{variant:"outline",children:"Retour à la liste"})})]}),e.jsxs("form",{onSubmit:v,className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"notes",children:"Notes (optionnel)"}),e.jsx(A,{id:"notes",value:t.notes,onChange:r=>l("notes",r.target.value),placeholder:"Décrivez l'alerte..."}),n.notes&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:n.notes})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{children:"Associer à un produit"}),e.jsxs(m,{value:t.produit_id?t.produit_id.toString():"null",onValueChange:r=>l("produit_id",r==="null"?null:r),children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Sélectionner un produit"})}),e.jsxs(x,{children:[e.jsx(i,{value:"null",children:"Aucun produit"}),h.map(r=>e.jsx(i,{value:r.id.toString(),children:r.name},r.id))]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{children:"Associer à un rendez-vous"}),e.jsxs(m,{value:t.rendezvou_id?t.rendezvou_id.toString():"null",onValueChange:r=>l("rendezvou_id",r==="null"?null:r),children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Sélectionner un rendez-vous"})}),e.jsxs(x,{children:[e.jsx(i,{value:"null",children:"Aucun rendez-vous"}),j.map(r=>e.jsxs(i,{value:r.id.toString(),children:[r.title," - ",new Date(r.date).toLocaleDateString()]},r.id))]})]})]})]})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsxs(c,{type:"submit",disabled:a,children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),a?"Mise à jour...":"Mettre à jour"]})})]})]})]})}export{te as default};
