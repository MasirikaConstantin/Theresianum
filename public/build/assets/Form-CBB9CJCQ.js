import{u as y,j as e}from"./app-BiR3H72c.js";import{B as S}from"./button-DfBT4842.js";import{I as x}from"./input-CBAXjYrY.js";import{L as n}from"./label-C35PAQno.js";import{S as t,a as u,b as c,c as m,d}from"./select-B5KxOem9.js";import{C as N}from"./checkbox-DH-D-Dn5.js";import{A as F,a as D}from"./alert-CJytHgmU.js";import{M as o}from"./example-date-picker-CijpV8RP.js";import{f as p}from"./format-B6qNwQQI.js";import"./app-BojVexQw.js";import"./utils-D-KgF5mV.js";import"./index-DufLrpEQ.js";import"./index-CaoPq-lK.js";import"./index-BdQq_4o_.js";import"./index-C4BIJOdj.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-Di7OUUGl.js";import"./index-D-SBhKFM.js";import"./check-DVZ7LPyx.js";import"./calendar-Bm37FrpH.js";import"./DayPicker-BNzRSgUN.js";import"./chevron-left-CImlN05b.js";import"./chevron-right-F_DONt-v.js";import"./popover-B0R-MFpt.js";import"./fr-CLbTb0XB.js";function de({contrat:i,agents:j,succursales:_,typesContrat:v}){var h;const{data:r,setData:a,post:f,put:g,processing:b,errors:l}=y({agent_id:(i==null?void 0:i.agent_id)||"",duree:(i==null?void 0:i.duree)||"",date_debut:i!=null&&i.date_debut?p(new Date(i==null?void 0:i.date_debut),"yyyy-MM-dd"):"",date_fin:i!=null&&i.date_fin?p(new Date(i==null?void 0:i.date_fin),"yyyy-MM-dd"):"",type_contrat:(i==null?void 0:i.type_contrat)||"",anciennete:(i==null?void 0:i.anciennete)||"",fonction:(i==null?void 0:i.fonction)||"",salaire_base:(i==null?void 0:i.salaire_base)||"",succursale_id:(i==null?void 0:i.succursale_id)||"",is_active:(i==null?void 0:i.is_active)||!1}),C=s=>{s.preventDefault(),i!=null&&i.id?g(route("contrats.update",i.id)):f(route("contrats.store"))};return e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"agent_id",children:"Agent"}),e.jsxs(t,{value:r.agent_id.toString(),onValueChange:s=>a("agent_id",parseInt(s)),required:!0,children:[e.jsx(u,{children:e.jsx(c,{placeholder:"Sélectionner un agent"})}),e.jsx(m,{children:j.map(s=>e.jsx(d,{value:s.id.toString(),children:`${s.nom} ${s.postnom} ${s.prenom}`},s.id))})]}),l.agent_id&&e.jsx("p",{className:"text-sm text-red-600",children:l.agent_id}),e.jsx(F,{className:"mt-2 bg-card",variant:"default",children:e.jsx(D,{children:"Seul les agents actifs peuvent avoir un contrat."})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type_contrat",children:"Type de Contrat"}),e.jsxs(t,{value:r.type_contrat,onValueChange:s=>a("type_contrat",s),required:!0,children:[e.jsx(u,{children:e.jsx(c,{placeholder:"Sélectionner un type"})}),e.jsx(m,{children:v.map(s=>e.jsx(d,{value:s,children:s},s))})]}),l.type_contrat&&e.jsx("p",{className:"text-sm text-red-600",children:l.type_contrat})]}),e.jsxs("div",{children:[e.jsx(o,{label:"Date Début",value:r.date_debut,onChange:s=>a("date_debut",s)}),l.date_debut&&e.jsx("p",{className:"text-sm text-red-600",children:l.date_debut})]}),e.jsxs("div",{children:[e.jsx(o,{label:"Date Fin (optionnel)",value:r.date_fin,onChange:s=>a("date_fin",s)}),l.date_fin&&e.jsx("p",{className:"text-sm text-red-600",children:l.date_fin})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"duree",children:"Durée"}),e.jsx(x,{id:"duree",value:r.duree,onChange:s=>a("duree",s.target.value),placeholder:"Ex: 1 an, 6 mois..."}),l.duree&&e.jsx("p",{className:"text-sm text-red-600",children:l.duree})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"role",children:["Fonction ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(t,{value:r.fonction,onValueChange:s=>a("fonction",s),required:!0,children:[e.jsx(u,{children:e.jsx(c,{placeholder:"Sélectionner une fonction"})}),e.jsxs(m,{children:[e.jsx(d,{value:"admin",children:"Administrateur"}),e.jsx(d,{value:"ressource_humaine",children:"Ressource Humaine"}),e.jsx(d,{value:"communicateur",children:"Communicateur"}),e.jsx(d,{value:"caissière",children:"Caissière"}),e.jsx(d,{value:"manager",children:"Gestionnaire"}),e.jsx(d,{value:"agent",children:"Agent"}),e.jsx(d,{value:"assistant_direction",children:"Assistant Direction"}),e.jsx(d,{value:"charge_vente_client",children:"Charge vente client"}),e.jsx(d,{value:"coiffeuse",children:"Coiffeuse"}),e.jsx(d,{value:"maquilleuse",children:"Maquilleuse  "}),e.jsx(d,{value:"cleaner",children:"Cleaner"}),e.jsx(d,{value:"estheticienne",children:"Esthéticienne"}),e.jsx(d,{value:"prothesiste",children:"Prothésiste"})]})]}),l.fonction&&e.jsx("p",{className:"text-sm text-red-600",children:l.fonction})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"succursale_id",children:"Succursale (optionnel)"}),e.jsxs(t,{value:((h=r.succursale_id)==null?void 0:h.toString())||"",onValueChange:s=>a("succursale_id",s?parseInt(s):null),children:[e.jsx(u,{children:e.jsx(c,{placeholder:"Sélectionner une succursale"})}),e.jsx(m,{children:_.map(s=>e.jsx(d,{value:s.id.toString(),children:s.nom},s.id))})]}),l.succursale_id&&e.jsx("p",{className:"text-sm text-red-600",children:l.succursale_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"salaire_base",children:"Salaire de Base (optionnel)"}),e.jsx(x,{id:"salaire_base",value:r.salaire_base||"",onChange:s=>a("salaire_base",s.target.value),type:"number"}),l.salaire_base&&e.jsx("p",{className:"text-sm text-red-600",children:l.salaire_base})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"anciennete",children:"Ancienneté (optionnel)"}),e.jsx(x,{id:"anciennete",value:r.anciennete||"",onChange:s=>a("anciennete",s.target.value),placeholder:"Ex: 2 ans, 6 mois..."}),l.anciennete&&e.jsx("p",{className:"text-sm text-red-600",children:l.anciennete})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{id:"is_active",checked:r.is_active,onCheckedChange:s=>a("is_active",!!s)}),e.jsx(n,{htmlFor:"is_active",children:"Contrat Actif"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(S,{type:"submit",disabled:b,children:i!=null&&i.id?"Mettre à jour":"Créer"})})]})})}export{de as default};
