import{u,j as e,H as g,L as n,t as j}from"./app-BiR3H72c.js";import{A as f}from"./app-layout-DXRwYbWn.js";import{B as o}from"./button-DfBT4842.js";import{I as d}from"./input-CBAXjYrY.js";import{L as a}from"./label-C35PAQno.js";import{T as v}from"./textarea-CIxwVg30.js";import{S as N}from"./switch-BTEMsqTc.js";import{S as _,a as C,b,c as S,e as F,d as y}from"./select-B5KxOem9.js";import{C as L}from"./chevron-left-CImlN05b.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";import"./index-Di7OUUGl.js";import"./index-BdQq_4o_.js";import"./check-DVZ7LPyx.js";const D=[{title:"Dashboard",href:"/dashboard"},{title:"Produits",href:"/produits"},{title:"Créer un produit",href:"/produits/create"}];function le({auth:c,categories:p}){const{data:s,setData:i,post:m,processing:l,errors:t}=u({name:"",avatar:null,description:"",prix_achat:0,prix_vente:0,actif:!0,categorie_id:""}),x=r=>{r.preventDefault(),m(route("produits.store"),{onError:()=>{j.error("Veuillez corriger les erreurs dans le formulaire")}})},h=r=>{r.target.files&&r.target.files[0]&&i("avatar",r.target.files[0])};return e.jsxs(f,{auth:c,breadcrumbs:D,children:[e.jsx(g,{title:"Créer un produit"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{href:route("produits.index"),children:e.jsx(o,{variant:"outline",size:"icon",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Créer un nouveau produit"})]}),e.jsxs("form",{onSubmit:x,className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"name",children:"Nom du produit"}),e.jsx(d,{id:"name",value:s.name,onChange:r=>i("name",r.target.value),placeholder:"Nom du produit",required:!0}),t.name&&e.jsx("p",{className:"text-sm text-red-500",children:t.name})]}),e.jsxs("div",{className:"grid gap-2 ",children:[e.jsx(a,{htmlFor:"categorie_id",children:"Catégorie"}),e.jsxs(_,{value:s.categorie_id,onValueChange:r=>i("categorie_id",r),required:!0,children:[e.jsx(C,{className:"w-full mt-2",children:e.jsx(b,{placeholder:"Sélectionner une catégorie"})}),e.jsx(S,{children:e.jsx(F,{children:p.map(r=>e.jsx(y,{value:String(r.id),children:r.nom},r.id))})})]}),t.categorie_id&&e.jsx("p",{className:"text-sm text-red-500",children:t.categorie_id})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"avatar",children:"Image (optionnel)"}),e.jsx(d,{id:"avatar",type:"file",onChange:h,accept:"image/*"}),t.avatar&&e.jsx("p",{className:"text-sm text-red-500",children:t.avatar})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"description",children:"Description (optionnel)"}),e.jsx(v,{id:"description",value:s.description,onChange:r=>i("description",r.target.value),placeholder:"Description du produit",rows:4}),t.description&&e.jsx("p",{className:"text-sm text-red-500",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"prix_achat",children:"Prix d'achat ($)"}),e.jsx(d,{id:"prix_achat",type:"number",min:"0",step:"0.01",value:s.prix_achat,onChange:r=>i("prix_achat",parseFloat(r.target.value)),required:!0}),t.prix_achat&&e.jsx("p",{className:"text-sm text-red-500",children:t.prix_achat})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"prix_vente",children:"Prix de vente ($)"}),e.jsx(d,{id:"prix_vente",type:"number",min:"0",step:"0.01",value:s.prix_vente,onChange:r=>i("prix_vente",parseFloat(r.target.value)),required:!0}),t.prix_vente&&e.jsx("p",{className:"text-sm text-red-500",children:t.prix_vente})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{id:"actif",checked:s.actif,onCheckedChange:r=>i("actif",r)}),e.jsx(a,{htmlFor:"actif",children:"Produit actif"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{href:route("produits.index"),children:e.jsx(o,{variant:"outline",children:"Annuler"})}),e.jsx(o,{type:"submit",disabled:l,children:l?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{le as default};
