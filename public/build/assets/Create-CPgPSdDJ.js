import{u as x,j as i,H as j,b as _,t as d}from"./app-BiR3H72c.js";import{C as b,a as f,b as N,c as v}from"./card-CtX8457h.js";import{A as y}from"./app-layout-DXRwYbWn.js";import{B as u}from"./button-DfBT4842.js";import{I as o}from"./input-CBAXjYrY.js";import{S as g}from"./switch-BTEMsqTc.js";import{L as l}from"./label-C35PAQno.js";import{A as F,b as P,a as $}from"./alert-CJytHgmU.js";import{c as k}from"./createLucideIcon-AVJzoGs5.js";import"./app-BojVexQw.js";import"./utils-D-KgF5mV.js";import"./breadcrumbs-CfH9HSk2.js";import"./index-CaoPq-lK.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-Di7OUUGl.js";import"./index-DufLrpEQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M18 8a2 2 0 0 0 0-4 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0 0 4",key:"10td1f"}],["path",{d:"M10 22 9 8",key:"yjptiv"}],["path",{d:"m14 22 1-14",key:"8jwc8b"}],["path",{d:"M20 8c.5 0 .9.4.8 1l-2.6 12c-.1.5-.7 1-1.2 1H7c-.6 0-1.1-.4-1.2-1L3.2 9c-.1-.6.3-1 .8-1Z",key:"1qo33t"}]],S=k("Popcorn",A);function oi({auth:c,activeConfig:s}){const p=[{title:"Tableau de bord",href:route("dashboard")},{title:"Configuration des Points de Fidélités",href:"/points"}],{data:t,setData:a,post:m,processing:n,errors:r}=x({actif:(s==null?void 0:s.actif)??!1,ratio_achat:(s==null?void 0:s.ratio_achat)??7,valeur_point:(s==null?void 0:s.valeur_point)??.5,seuil_utilisation:(s==null?void 0:s.seuil_utilisation)??5}),h=e=>{e.preventDefault(),m(route("fidelite.config.update"),{onSuccess:()=>{d.success("Configuration mise à jour avec succès")},onError:L=>{d.error("Une erreur est survenue lors de la mise à jour de la configuration")}})};return i.jsxs(y,{auth:c,breadcrumbs:p,children:[i.jsx(j,{title:"Gestions des points de fidélités Clients"}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex justify-end",children:i.jsx(u,{variant:"outline",className:"mb-4",onClick:()=>_.visit("/points"),children:"Retour à la liste des configurations"})}),i.jsxs(b,{children:[i.jsxs(f,{children:[i.jsx(N,{className:"text-xl",children:"Points de Fidélités"}),i.jsx(v,{children:"Mettez à jours les Configurations pour l'utilisation et l'acquisition des points de Fidélités par les clients"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(g,{id:"actif",checked:t.actif,onCheckedChange:e=>a("actif",e)}),i.jsx(l,{htmlFor:"actif",children:"Configuration active"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx(l,{htmlFor:"ratio_achat",children:"Ratio d'acquisition"}),i.jsx(o,{id:"ratio_achat",type:"number",step:"0.01",min:"0.01",value:t.ratio_achat,onChange:e=>a("ratio_achat",parseFloat(e.target.value)),placeholder:"7 (1 point pour chaque 7$ dépensés)"}),r.ratio_achat&&i.jsx("p",{className:"text-sm text-red-500",children:r.ratio_achat})]}),i.jsxs("div",{children:[i.jsx(l,{htmlFor:"valeur_point",children:"Valeur d'un point ($)"}),i.jsx(o,{id:"valeur_point",type:"number",step:"0.01",min:"0.01",value:t.valeur_point,onChange:e=>a("valeur_point",parseFloat(e.target.value)),placeholder:"0.5 (1 point = 0.5$)"}),r.valeur_point&&i.jsx("p",{className:"text-sm text-red-500",children:r.valeur_point})]}),i.jsxs("div",{children:[i.jsx(l,{htmlFor:"seuil_utilisation",children:"Seuil d'utilisation (points)"}),i.jsx(o,{id:"seuil_utilisation",type:"number",min:"1",value:t.seuil_utilisation,onChange:e=>a("seuil_utilisation",parseInt(e.target.value)),placeholder:"5 (minimum de points à utiliser)"}),r.seuil_utilisation&&i.jsx("p",{className:"text-sm text-red-500",children:r.seuil_utilisation})]})]}),i.jsxs(F,{className:"mt-3",children:[i.jsx(S,{}),i.jsx(P,{children:"Prévisualisation :"}),i.jsx($,{children:i.jsxs("ul",{className:"list-inside list-disc text-sm",children:[i.jsxs("li",{children:["Pour un achat de ",t.ratio_achat,"$ le client gagne ",t.ratio_achat/t.ratio_achat," points"]}),i.jsxs("li",{children:["Pour utiliser le point le client doit avoir minimum ",t.seuil_utilisation," points"]}),i.jsxs("li",{children:["Si un client veut utiliser ses points  :  1 point vaudra ",t.valeur_point,"$ de réduction"]}),i.jsxs("li",{children:["Donc s'il a ",t.seuil_utilisation," points il pourra utiliser ",t.seuil_utilisation*t.valeur_point,"$ de réduction"]})]})})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(u,{type:"submit",disabled:n,children:n?"Enregistrement...":"Enregistrer la configuration"})})]}),s&&i.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-medium",children:"Explications"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Avec la configuration actuelle:"}),i.jsxs("ul",{className:"list-disc pl-5 text-sm text-gray-600 mt-2 space-y-1",children:[i.jsxs("li",{children:["Pour chaque ",s.ratio_achat,"$ dépensés, le client gagne 1 point"]}),i.jsxs("li",{children:["1 point = ",s.valeur_point,"$ de réduction"]}),i.jsxs("li",{children:["Le client doit avoir minimum ",s.seuil_utilisation," points pour les utiliser"]})]})]})]})]})]})]})}export{oi as default};
