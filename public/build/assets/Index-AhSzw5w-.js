import{j as e,H as x,L as d,b as c}from"./app-BiR3H72c.js";import{A as u}from"./app-layout-DXRwYbWn.js";import{B as h}from"./button-DfBT4842.js";import{T as f,f as j,a as g,b as p,c as s,d as b,e as a}from"./table-CMAMKCJS.js";import{B as _}from"./badge-NokOUrZG.js";import{P as C,a as N,b as o,c as v,d as P,e as w,f as D}from"./pagination-3fOkAI-N.js";import{C as S,a as T,b as y}from"./clock-1-B0Iih7mW.js";import{X as B}from"./breadcrumbs-CfH9HSk2.js";import{C as k}from"./check-DVZ7LPyx.js";import{C as A}from"./calendar-CQ4TJ2Ye.js";import{C as H}from"./clock-CK8e-of5.js";import{f as L}from"./format-B6qNwQQI.js";import{f as R}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";import"./index-C4BIJOdj.js";import"./index-DL4BAlbN.js";import"./index-CaoPq-lK.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./createLucideIcon-AVJzoGs5.js";import"./utils-D-KgF5mV.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./chevron-left-CImlN05b.js";import"./chevron-right-F_DONt-v.js";import"./index-DZGh8cYj.js";import"./index-D-SBhKFM.js";const E=[{title:"Dashboard",href:"/dashboard"},{title:"Rendez-vous",href:"#"}],m={en_attente:{icon:y,color:"bg-amber-200 text-amber-800",label:"En Attente"},confirmé:{icon:k,color:"bg-green-100 text-green-800",label:"Confirmé"},annulé:{icon:B,color:"bg-red-100 text-red-800",label:"Annulé"},terminé:{icon:T,color:"bg-blue-100 text-blue-800",label:"Terminé"},"no-show":{icon:S,color:"bg-yellow-100 text-yellow-800",label:"Non vue"}};function ue({rendezvous:t,auth:l}){return t.statut==="confirmé"||l.user.role,l.user.role==="admin"||l.user.role,e.jsxs(u,{auth:l,breadcrumbs:E,children:[e.jsx(x,{title:"Gestion des rendez-vous"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Gestion des rendez-vous"})}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(f,{children:[e.jsx(j,{children:"Les Rendez-vous"}),e.jsx(g,{children:e.jsxs(p,{children:[e.jsx(s,{children:"#"}),e.jsx(s,{children:"Date/Heure"}),e.jsx(s,{children:"Client"}),e.jsx(s,{children:"Branche"}),e.jsx(s,{children:"Durée"}),e.jsx(s,{children:"Statut"}),e.jsx(s,{children:"Services"}),e.jsx(s,{children:"Actions"})]})}),e.jsx(b,{children:t.data.map((r,i)=>{const n=m[r.statut].icon;return e.jsxs(p,{children:[e.jsx(a,{children:t.from+i}),e.jsx(a,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),L(new Date(r.date_rdv),"PP",{locale:R})]})}),e.jsx(a,{children:r.client?r.client.name.slice(0,20)+"...":"Non spécifié"}),e.jsx(a,{children:r.succursale.nom}),e.jsx(a,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),r.heure_debut.slice(0,5)," - ",r.heure_fin.slice(0,5)]})}),e.jsx(a,{children:e.jsxs(_,{className:`${m[r.statut].color} gap-2`,children:[e.jsx(n,{className:"h-3 w-3"}),m[r.statut].label]})}),e.jsxs(a,{children:[JSON.parse(r.services).length," service(s)"]}),e.jsx(a,{className:"flex gap-2",children:e.jsx(d,{href:route("rendezvous.show",r.ref),children:e.jsx(h,{variant:"outline",size:"sm",children:"Voir"})})})]},r.id)})})]})}),t.last_page>1&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(C,{children:e.jsxs(N,{children:[e.jsx(o,{children:e.jsx(v,{href:t.prev_page_url||"#",onClick:r=>{if(!t.prev_page_url){r.preventDefault();return}r.preventDefault(),c.get(t.prev_page_url,{},{preserveState:!0,replace:!0,preserveScroll:!0})},className:t.prev_page_url?"":"pointer-events-none opacity-50"})}),t.links.slice(1,-1).map((r,i)=>r.label==="..."?e.jsx(o,{children:e.jsx(P,{})},i):e.jsx(o,{children:e.jsx(w,{href:r.url||"#",onClick:n=>{if(!r.url){n.preventDefault();return}n.preventDefault(),c.get(r.url,{},{preserveState:!0,replace:!0,preserveScroll:!0})},isActive:r.active,children:r.label})},i)),e.jsx(o,{children:e.jsx(D,{href:t.next_page_url||"#",onClick:r=>{if(!t.next_page_url){r.preventDefault();return}r.preventDefault(),c.get(t.next_page_url,{},{preserveState:!0,replace:!0,preserveScroll:!0})},className:t.next_page_url?"":"pointer-events-none opacity-50"})})]})})})]})]})}export{ue as default};
