import{u as A,j as e,H as F,L as g,a as E,t as L}from"./app-BiR3H72c.js";import{A as k,a as y,b as D,c as I}from"./app-layout-DXRwYbWn.js";import{B as o}from"./button-DfBT4842.js";import{I as c}from"./input-CBAXjYrY.js";import{L as l}from"./label-C35PAQno.js";import{T as z}from"./textarea-CIxwVg30.js";import{S as v,a as f,b as N,c as b,d}from"./select-B5KxOem9.js";import{S as R}from"./switch-BTEMsqTc.js";import{C as T}from"./chevron-left-CImlN05b.js";import"./app-BojVexQw.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./utils-D-KgF5mV.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./badge-NokOUrZG.js";import"./index-DufLrpEQ.js";import"./index-BdQq_4o_.js";import"./index-Di7OUUGl.js";import"./check-DVZ7LPyx.js";const U=n=>[{title:"Dashboard",href:"/dashboard"},{title:"Utilisateurs",href:"/utilisateurs"},{title:`Modifier ${n}`,href:"#"}];function je({auth:n,user:s,is_admin:m}){var x,u,j;const{data:i,setData:t,put:_,processing:h,errors:r}=A({name:s.name,email:s.email,avatar:null,current_avatar:s.avatar,telephone:s.telephone,adresse:s.adresse,date_embauche:s.date_embauche,role:s.role,is_active:s.is_active,succursale_id:s.succursale_id}),p=m,C=m,S=a=>{a.preventDefault(),_(route("utilisateurs.update",s.id),{onError:()=>{L.error("Veuillez corriger les erreurs dans le formulaire")}})};return e.jsxs(k,{auth:n,breadcrumbs:U(s.name),children:[e.jsx(F,{title:`Modifier ${s.name}`}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{href:route("utilisateurs.index"),children:e.jsx(o,{variant:"outline",size:"icon",children:e.jsx(T,{className:"h-4 w-4"})})}),e.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Modifier ",s.name]})]}),e.jsxs("form",{onSubmit:S,className:"grid gap-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(y,{className:"h-16 w-16",children:[e.jsx(D,{src:i.current_avatar?`/storage/${i.current_avatar}`:void 0}),e.jsx(I,{children:s.name.split(" ").map(a=>a[0]).join("")})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",children:"Nom complet"}),e.jsx(c,{id:"name",value:i.name,onChange:a=>t("name",a.target.value),placeholder:"Nom de l'utilisateur",required:!0}),r.name&&e.jsx("p",{className:"text-sm text-red-500",children:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",type:"email",value:i.email,onChange:a=>t("email",a.target.value),placeholder:"Email de l'utilisateur",required:!0}),r.email&&e.jsx("p",{className:"text-sm text-red-500",children:r.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"telephone",children:"Téléphone (optionnel)"}),e.jsx(c,{id:"telephone",value:i.telephone||"",onChange:a=>t("telephone",a.target.value),placeholder:"Numéro de téléphone"}),r.telephone&&e.jsx("p",{className:"text-sm text-red-500",children:r.telephone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"date_embauche",children:"Date d'embauche (optionnel)"}),e.jsx(c,{id:"date_embauche",type:"date",disabled:!p,value:i.date_embauche||"",onChange:a=>t("date_embauche",a.target.value)}),r.date_embauche&&e.jsx("p",{className:"text-sm text-red-500",children:r.date_embauche})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"adresse",children:"Adresse (optionnel)"}),e.jsx(z,{id:"adresse",value:i.adresse||"",onChange:a=>t("adresse",a.target.value),placeholder:"Adresse complète"}),r.adresse&&e.jsx("p",{className:"text-sm text-red-500",children:r.adresse})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"role",children:"Rôle"}),e.jsxs(v,{value:i.role,onValueChange:a=>t("role",a),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Sélectionnez un rôle"})}),e.jsxs(b,{children:[p&&e.jsx(d,{value:"admin",children:"Admin"}),e.jsx(d,{value:"gerant",children:"D.R.H"}),e.jsx(d,{value:"coiffeur",children:"Coiffeur"}),e.jsx(d,{value:"caissier",children:"Caissier"}),e.jsx(d,{value:"aucun",children:"Aucun"})]})]}),r.role&&e.jsx("p",{className:"text-sm text-red-500",children:r.role})]}),C&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"succursale_id",children:"Branche (optionnel)"}),e.jsxs(v,{value:((x=i.succursale_id)==null?void 0:x.toString())||"",onValueChange:a=>t("succursale_id",a?parseInt(a):null),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Sélectionnez une branche"})}),e.jsx(b,{children:(j=(u=E().props)==null?void 0:u.succursales)==null?void 0:j.map(a=>e.jsx(d,{value:a.id.toString(),children:a.nom},a.id))})]}),r.succursale_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.succursale_id})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{id:"is_active",checked:i.is_active,onCheckedChange:a=>t("is_active",a)}),e.jsx(l,{htmlFor:"is_active",children:"Compte actif"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(g,{href:route("utilisateurs.index"),children:e.jsx(o,{variant:"outline",children:"Annuler"})}),e.jsx(o,{type:"submit",disabled:h,children:h?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{je as default};
