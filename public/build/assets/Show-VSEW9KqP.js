import{j as e,H as g,L as b,b as x}from"./app-BiR3H72c.js";import{B as a}from"./button-DfBT4842.js";import{C as u,a as j,b as h,d as p}from"./card-CtX8457h.js";import{T,a as C,b as f,c as t,d as _,e as i}from"./table-CMAMKCJS.js";import{B as n}from"./badge-NokOUrZG.js";import{A as k}from"./app-layout-DXRwYbWn.js";import{f as y}from"./format-B6qNwQQI.js";import{f as B}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";import"./utils-D-KgF5mV.js";import"./breadcrumbs-CfH9HSk2.js";import"./createLucideIcon-AVJzoGs5.js";import"./index-CaoPq-lK.js";import"./index-DZGh8cYj.js";import"./index-C4BIJOdj.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./index-DL4BAlbN.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./calendar-CQ4TJ2Ye.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";function se({auth:d,transfert:s}){var o,m;const v=()=>{x.post(route("transferts.validate",s.id))},N=()=>{x.post(route("transferts.reject",s.id))},l=r=>{switch(r){case"validé":return e.jsx(n,{variant:"success",children:"Validé"});case"refusé":return e.jsx(n,{variant:"destructive",children:"Refusé"});default:return e.jsx(n,{variant:"secondary",children:"En attente"})}},c=((o=s.transfert_stocks[0])==null?void 0:o.statut)==="en attente";return console.log(c),e.jsxs(k,{auth:d,children:[e.jsx(g,{title:`Transfert ${s.ref}`}),e.jsxs("div",{className:"container py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Transfert ",s.ref]}),e.jsx(b,{href:route("transferts.index"),children:e.jsx(a,{variant:"outline",children:"Retour"})})]}),e.jsxs(u,{className:"mb-6",children:[e.jsx(j,{children:e.jsx(h,{children:"Détails du transfert"})}),e.jsxs(p,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Référence"}),e.jsx("p",{className:"font-medium",children:s.ref})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-medium",children:y(new Date(s.created_at),"PPpp",{locale:B})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Initiateur"}),e.jsx("p",{className:"font-medium",children:s.user.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Statut"}),e.jsx("p",{className:"font-medium",children:l(((m=s.transfert_stocks[0])==null?void 0:m.statut)||"en attente")})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Note"}),e.jsx("p",{className:"font-medium",children:s.note||"Aucune note"})]})]}),c&&d.user.role==="gerant"&&e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(a,{variant:"destructive",onClick:N,children:"Refuser le transfert"}),e.jsx(a,{onClick:v,children:"Valider le transfert"})]})]})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(h,{children:"Articles transférés"})}),e.jsx(p,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(f,{children:[e.jsx(t,{children:"Produit"}),e.jsx(t,{children:"Quantité"}),e.jsx(t,{children:"Source"}),e.jsx(t,{children:"Destination"}),e.jsx(t,{children:"Statut"})]})}),e.jsx(_,{children:s.transfert_stocks.map(r=>e.jsxs(f,{children:[e.jsx(i,{className:"font-medium",children:r.produit.nom}),e.jsx(i,{children:r.quantite}),e.jsx(i,{children:r.succursale_source.nom}),e.jsx(i,{children:r.succursale_destination.nom}),e.jsx(i,{children:l(r.statut)})]},r.id))})]})})]})]})]})}export{se as default};
