import{r as n,j as e,H as o}from"./app-BiR3H72c.js";import{f as l}from"./format-B6qNwQQI.js";import{f as d}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";function g({data:s,entreprise:r,qrWeb:x,qrFacebook:m,qrInstagram:h}){const c=t=>new Intl.NumberFormat("fr-FR").format(t),a=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(t).replace("$US","$");return n.useEffect(()=>{const t=setTimeout(()=>{window.print()},500);return()=>clearTimeout(t)},[]),e.jsxs("div",{className:"p-4 max-w-4xl mx-auto bg-white",children:[e.jsx(o,{title:`Statistiques Produit - ${s.produit.name}`}),e.jsxs("div",{className:"text-center mb-4 border-b pb-4",children:[r.logo_url&&e.jsx("img",{src:r.logo_url,alt:"Logo entreprise",className:"h-16 mx-auto mb-2"}),e.jsx("h1",{className:"text-xl font-bold",children:r.nom}),e.jsxs("p",{className:"text-xs font-bold",children:[r.rccm,", ID NAT: ",r.id_national]}),e.jsx("p",{className:"text-xs",children:r.adresse}),e.jsxs("p",{className:"text-xs",children:["Tél: ",r.telephone," | E-mail: ",r.email]}),e.jsx("h2",{className:"text-xl font-bold mt-2",children:"STATISTIQUES DU PRODUIT"}),e.jsxs("p",{className:"text-sm",children:["Période du ",l(new Date(s.date_debut),"PPP",{locale:d})," au ",l(new Date(s.date_fin),"PPP",{locale:d})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-bold text-lg border-b pb-1",children:"INFORMATIONS PRODUIT"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mt-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"w-32 font-medium",children:"Nom:"}),e.jsx("span",{children:s.produit.name})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"w-32 font-medium",children:"Prix d'achat:"}),e.jsx("span",{children:a(s.produit.prix_vente)})]})]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border p-3 text-center rounded bg-gray-50",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Total Vendu"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:c(s.stats.total_vendu)}),e.jsx("p",{className:"text-xs",children:"unités"})]}),e.jsxs("div",{className:"border p-3 text-center rounded bg-gray-50",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Total"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:a(s.stats.chiffre_affaires)})]}),e.jsxs("div",{className:"border p-3 text-center rounded bg-gray-50",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Marge Bénéficiaire"}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:a(s.stats.marge)})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-bold text-lg border-b pb-1",children:"VENTES PAR BRANCHE"}),e.jsxs("table",{className:"w-full text-sm mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"text-left p-2 border",children:"Branche"}),e.jsx("th",{className:"text-right p-2 border",children:"Quantité"}),e.jsx("th",{className:"text-right p-2 border",children:"Total"}),e.jsx("th",{className:"text-right p-2 border",children:"Marge"})]})}),e.jsx("tbody",{children:s.ventes_par_succursale.map((t,i)=>e.jsxs("tr",{className:i%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"p-2 border",children:t.nom}),e.jsx("td",{className:"p-2 border text-right",children:c(t.total_quantite)}),e.jsx("td",{className:"p-2 border text-right",children:a(t.total_ca)}),e.jsx("td",{className:"p-2 border text-right",children:a(t.marge)})]},t.id))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-bold text-lg border-b pb-1",children:"VENTES PAR PÉRIODE"}),e.jsxs("table",{className:"w-full text-sm mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"text-left p-2 border",children:"Date"}),e.jsx("th",{className:"text-right p-2 border",children:"Quantité"}),e.jsx("th",{className:"text-right p-2 border",children:"Total"})]})}),e.jsx("tbody",{children:s.ventes_par_periode.map((t,i)=>e.jsxs("tr",{className:i%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"p-2 border",children:l(new Date(t.date),"PPP",{locale:d})}),e.jsx("td",{className:"p-2 border text-right",children:c(t.total_quantite)}),e.jsx("td",{className:"p-2 border text-right",children:a(t.total_ca)})]},t.date))})]})]}),e.jsx("div",{className:"mt-8 border-t pt-4",children:e.jsx("div",{className:"flex justify-end items-center",children:e.jsx("div",{className:"text-xs",children:e.jsxs("p",{children:["Document généré le ",l(new Date,"PPPp",{locale:d})]})})})}),e.jsx("style",{children:`
                @media print {
                    @page {
                        size: A4;
                        margin: 1cm;
                    }
                    body {
                        font-size: 10pt;
                        background: white !important;
                        color: black !important;
                    }
                    .no-print {
                        display: none !important;
                    }
                    .border, th, td {
                        border-color: #ccc !important;
                    }
                }
            `})]})}export{g as default};
