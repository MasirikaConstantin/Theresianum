import{j as e,H as g,L as h}from"./app-BiR3H72c.js";import{A as y}from"./app-layout-DXRwYbWn.js";import{C as t,a,b as m,d as l}from"./card-CtX8457h.js";import{B as u}from"./button-DfBT4842.js";import{B as w}from"./badge-NokOUrZG.js";import{P as b}from"./progress-CdY97wPc.js";import{W as _}from"./breadcrumbs-CfH9HSk2.js";import{A as C}from"./arrow-left-D-D-SLId.js";import{c as F}from"./createLucideIcon-AVJzoGs5.js";import{L as $}from"./lock-OuqDFEa5.js";import{B as D}from"./building-CL3OeaQN.js";import{C as j}from"./calendar-CQ4TJ2Ye.js";import{E as L}from"./eye-xwMsSdsH.js";import{f}from"./format-B6qNwQQI.js";import{f as p}from"./fr-CLbTb0XB.js";import"./app-BojVexQw.js";import"./index-C4BIJOdj.js";import"./index-DL4BAlbN.js";import"./index-CaoPq-lK.js";import"./index-CHBa3DK4.js";import"./index-DZfrvXPy.js";import"./chevron-down-C8aG4wQu.js";import"./index-D85psPK1.js";import"./utils-D-KgF5mV.js";import"./chevrons-up-down-D26-hiHV.js";import"./app-logo-icon-D1TxLKab.js";import"./package-CMie0C_N.js";import"./circle-alert-CxFuhzFA.js";import"./index-iIYnk3p_.js";import"./index-DZGh8cYj.js";import"./index-D-SBhKFM.js";import"./chevron-right-F_DONt-v.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],S=F("LockOpen",P);function ne({caisse:s,stats:i,auth:N,transactions:o}){var d,n,c,x;console.log(o);const v=[{title:"Dashboard",href:"/dashboard"},{title:"Gestion des caisses",href:"/caisses"},{title:`Caisse ${(d=s.succursale)==null?void 0:d.nom}`,href:`/caisses/${s.ref}`}];return e.jsxs(y,{auth:N,breadcrumbs:v,children:[e.jsx(g,{title:`Caisse ${(n=s.succursale)==null?void 0:n.nom}`}),e.jsxs("div",{className:"container py-6 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(_,{className:"h-6 w-6"}),"Détails de la caisse ",(c=s.succursale)==null?void 0:c.nom]}),e.jsx(u,{variant:"outline",asChild:!0,children:e.jsxs(h,{href:route("caisses.index"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Retour"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(m,{className:"text-sm font-medium",children:"Solde actuel"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(parseFloat(s.solde)).replace("$US","$")}),e.jsxs(w,{className:"mt-2",variant:s.statut==="ouverte"?"default":"secondary",children:[s.statut==="ouverte"?e.jsx(S,{className:"h-3 w-3 mr-1"}):e.jsx($,{className:"h-3 w-3 mr-1"}),s.statut]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(m,{className:"text-sm font-medium",children:"Transactions aujourd'hui"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold",children:i.transactions_jour}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Total: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(parseFloat(i.montant_total_jour)).replace("$US","$")]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(m,{className:"text-sm font-medium",children:"Moyenne par transaction"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(parseFloat(i.moyenne_transaction)).replace("$US","$")}),e.jsx(b,{value:parseFloat(i.moyenne_transaction)/1e3*100,className:"h-2 mt-2"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(m,{className:"text-sm font-medium",children:"Informations générales"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(D,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Branche"}),e.jsx("p",{children:((x=s.succursale)==null?void 0:x.nom)||"Non attribuée"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date d'ouverture"}),e.jsx("p",{children:f(new Date(s.date_ouverture),"PPP",{locale:p})})]})]}),s.date_fermeture&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date de fermeture"}),e.jsx("p",{children:f(new Date(s.date_fermeture),"PPP",{locale:p})})]})]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(m,{className:"text-sm font-medium",children:"Activité récente"})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:o.map(r=>e.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Transaction #",r.code]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.created_at}),e.jsx(u,{variant:"link",asChild:!0,children:e.jsxs(h,{href:route("ventes.show",r.ref),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Voir"]})})]}),e.jsxs("div",{className:"font-medium",children:["+",r.montant_total.toFixed(2)," $"]})]},r.id))})})]})]})]})]})}export{ne as default};
